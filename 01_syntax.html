<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Javascript &mdash; Syntax</title>
  <meta name="author" content="Rogier van der Linde - odisee.be">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="fonts/droidsans/webfont.css">
  <link rel="stylesheet" href="fonts/lato/webfont.css">
  <link rel="stylesheet" href="fonts/leaguegothic/webfont.css">
  <link rel="stylesheet" href="vendor/reveal/css/reveal.css">
  <link rel="stylesheet" href="vendor/reveal/css/theme/beige.css">
  <link rel="stylesheet" href="vendor/highlight/styles/vs.css">
  <link rel="stylesheet" href="css/reveal-mods.css">
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/01_syntax.css">
</head>

<body>

  <!-- SLIDES -->
  <div class="reveal">

    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">

      <!-- 0 : Title -->
      <section>
        <h1>JAVASCRIPT SYNTAX</h1>
        <small>use the arrow keys to navigate; press space for slide overview</small>
        <figure>
          <img src="img/01_syntax/icon.png" alt="" class="noborder" style="background: none; width: 400px;">
        </figure>
        <div class="tooltip" style="position: absolute; left: 634px; bottom: 57px; text-align: left">
          <div>
            This code is actually the logic of a fully functional tetris game (without keyboard events and display). There's even a version smaller than the size of a tweet; you can play it <a href="demos/01_syntax/tetris.html">here</a>
            <br />
            Javascript can be so compact, there's a special contest for <a href="http://js1k.com/">&lt;1k programs</a>. Some fine winners <a href="demos/01_syntax/js1k_1.html">here</a>, <a href="demos/01_syntax/js1k_2.html">here</a> and <a href="demos/01_syntax/js1k_3.html">here</a>. Also check the winners of <a href="http://js1k.com/2015-hypetrain/demo/2306">2015</a> and <a href="http://js1k.com/2016-elemental/demo/2552">2016</a>. Don't forget to check the source code.
          </div>
        </div>
        <footer>
          <a href="http://www.odisee.be/">odisee.be</a> &mdash; <a href="mailto:rogier.vanderlinde@odisee.be">rogier.vanderlinde@odisee.be</a>
        </footer>
      </section>

      <section>
        <section>
          <h1>JAVASCRIPT SYNTAX</h1>
          <h2>Intro</h2>
          <ul class="chapterlist">
            <!-- to be filled by Javascript -->
          </ul>
        </section>
        <section data-toc-title="Scripting languages">
          <h2>Scripting languages (1)</h2>
          <ul>
            <li>
              Scripts were originally programs written to automate tasks which could alternatively be executed one-by-one by a human.
            </li>
            <li>
              Differences from classic languages like Java, C#, C++...:
              <ul>
                <li>
                  Codelines aren't compiled or linked but executed on the fly (just-in-time or JIT compilation). If there's an error halfway, the first half is still executed before the script halts.
                </li>
                <li>
                  Looser programming style: weak and dynamic typing, OO concepts are often different or totally absent
                </li>
                <li>
                  Syntactically, scripting languages can be rather 'special'
                </li>
              </ul>
            </li>
          </ul>
        </section>
        <section data-toc-title="">
          <h2>Scripting languages (2)</h2>
          <ul>
            <li>
              Biggest advantage of JIT compilation: better portability (text instead of machine code).
            </li>
            <li>
              JIT comes with a penalty; Javascript is about 3 times slower than C++. Also, JIT makes decent intellisense and debugging much more difficult to implement.
            </li>
            <li>
              Also, scripts are clear text, so harder to protect your work from other programmers
            </li>
            <li>
              Quite a few scripting languages exist serverside (PHP, Python, ASP, C via CGI, Perl, Ruby...), but browsers understand only one language: <em>Javascript</em>.
            </li>
          </ul>
        </section>
        <section>
          <h2>[Javascript is not Java]</h2>
          <div style="text-align:center">
            <figure>
              <img src="img/01_syntax/hamster.png" alt="JavaScript is to Java as Ham is to Hamster" title="JavaScript is to Java as Ham is to Hamster" width="500" height="284" style="border-color: #FFF; border-width: 12px;" />
              <figcaption>Dixit <a href="http://adactio.com/">Jeremy Keith</a>, Cartoon by <a href="http://www.flickr.com/photos/manssandstrom/4132454413/in/photostream/">Brad Colbow</a></figcaption>
            </figure>
          </div>
        </section>
        <section>
          <h2>[History]</h2>
          <ul>
            <li>
              Originally created by Netscape in 1995, originally named Mocha, later LiveScript and finally Javascript
            </li>
            <li>
              Microsoft introduced Javascript support in IE3, renaming it to JScript to avoid trademark issues
            </li>
            <li>
              Submitted to ECMA for standardization in 1996, resulting in ECMAScript. Currently version 5 (wide support) / 6 (shaky support) / 7 (in development).
            </li>
            <li>
              ECMAScript is the name of the standard, while JavaScript refers to the implementation by Mozilla (version 1.8.5).
            </li>
          </ul>
          <div class="tooltip">
            <div>
              <p>
                Javascript has a strange naming history. Originally named Mocha, LiveScript and Javascript, then renamed to ECMAScript or short ES.
              </p>
              <p>
                Also version numbering is confusing ECMAScript6 or ES6 (a.k.a. Harmony) is also called ES2015, where ES7 is called ES2016.
              </p>
              <p>
                The name Javascript is still used, but usually refers to Mozilla's implementation, a superset with many new features of which only few will make it to the final standard. Mozilla used version numbers but stopped in 2010 at 1.8.5, vaguely relating to ES5.1
              </p>
            </div>
          </div>
        </section>
        <section>
          <h2>[JavaScript Engines]</h2>
          <ul>
            <li>
              Browsers have a built-in engine to interpret JavaScript
              <ul>
                <li><a href="https://developer.mozilla.org/en/SpiderMonkey">SpiderMonkey</a> in Firefox</li>
                <li><a href="http://code.google.com/p/v8/">V8</a> in Chrome</li>
                <li><a href="http://www.webkit.org/projects/javascript/index.html">JavaScriptCore</a> (SquirrelFish/Nitro) in Webkit/Safari</li>
                <li><a href="http://my.opera.com/ODIN/blog/carakan-faq">Carakan</a> in Opera</li>
                <li><a href="http://en.wikipedia.org/wiki/Chakra_%28JScript_engine%29">Chakra</a> in IE</li>
              </ul>
            </li>
            <li>
              May actually run on any system with a JS interpreter:
              <uL>
                <li>on Windows OS through the Windows Scripting Host</li>
                <li>on a server with <a href="http://nodejs.org/">Node.js</a>, powered by Google's V8</li>
                <li>on Java-enabled systems with <a href="https://developer.mozilla.org/en/Rhino">Rhino</a>, an open source JavaScript engine developed by Mozilla and written in Java</li><!-- to enable end users to script the system -->
                <li>embedded in pdf's, OpenOffice, in Chrome, Safari or Opera extensions, Photoshop plugins, desktop Widgets...</li>
              </ul>
            </li>
          </ul>
          <ul class="arrow">
            <li>
              in this course we'll focus on browsers
            </li>
          </ul>
        </section>
        <section data-toc-title="Running In the shell">
          <h2>[Running In the shell (1)]</h2>
          <ul>
            <li>
              Although Javascript is best known in browsers, you can also run it in a <i>shell</i> (i.e. command prompt). Create a file <code>test.js</code> with these contents:
              <div><pre class="bigger"><code class="language-javascript" data-caption="test.js">WScript.StdOut.Write("Enter your name> ")
let name = WScript.StdIn.ReadLine()
WScript.StdOut.Write('Hello ' + name)</code></pre></div>
            </li>
            <li>
              Open a windows console, navigate to your script and and run it with the <code>cscript</code> command:
              <div><pre class="bigger"><code class="donthighlight" style="background-color: black; color: white">C:\Users\Rogier\Desktop>cscript test.js
Microsoft (R) Windows Script Host Version 5.8
Copyright (C) Microsoft Corporation. All rights reserved.

Enter your name> Rogier
Hello Rogier
C:\Users\Rogier\Desktop></code></pre></div>
            </li>
          </ul>
          <ul class="arrow">
            <li>
              In Mac you can use jsc (JavaScriptCore), see <a href="files/jsc.zip">jsc.zip</a> for instructions
            </li>
          </ul>
        </section>
        <section data-toc-title="">
          <h2>[Running In the shell (2)]</h2>
          <ul>
            <li>
              You can also use command line arguments:
              <div><pre class="bigger"><code class="language-javascript" data-caption="test.js">let numArgs = WScript.arguments.length;
for (let i = 0; i &lt; WScript.arguments.length; i++) {
  WScript.StdOut.Write('Hello ' + WScript.arguments(i) + '\n');
}
</code></pre></div>
              <div><pre class="bigger"><code class="donthighlight" style="background-color: black; color: white">C:\Users\Rogier\Desktop>cscript test.js An Bob
Microsoft (R) Windows Script Host Version 5.8
Copyright (C) Microsoft Corporation. All rights reserved.

Hello An
Hello Bob
C:\Users\Rogier\Desktop></code></pre></div>
            </li>
          </ul>
        </section>
      </section>
      <section>
        <section>
          <h1>JAVASCRIPT SYNTAX</h1>
          <h2>Getting started</h2>
          <ul class="chapterlist">
            <!-- to be filled by Javascript -->
          </ul>
        </section>
        <section data-toc-title="Web server">
          <h2>Web server (1)</h2>
          <ul>
            <li>
              For Javascript, you just need a decent text editor and the best browser around.
              If you will dynamically load assets (images, sounds...), you'll also need a local web server, as this can only be done over HTTP(s)
            </li>
          </ul> 
          <div style="display: flex; justify-content: space-between; margin-left: -25px">
            <ul style="width: 300px">
              <li>
                Check if one is already installed by typing <code>localhost</code> in the address bar. If you see something like this, you're good:
              </li>
              <li>
                If not, install one like <a href="http://www.wampserver.com/en/">WAMP</a> or <a href="https://www.apachefriends.org/index.html">XAMPP</a>
              </li>
             </ul> 
             <p style="width: calc(100% - 310px)">
               <img src="img/01_syntax/localhost.png" alt="" class="border">
             
             </p>
          </div>
        </section>
        <section data-toc-title="">
          <h2>Web server (2)</h2>
          <div style="display: flex; justify-content: space-between; margin-left: -25px">
            <ul style="width: 350px">
              <li>
                If you're on a PC without admin access, you can alternatively use the <a href="https://chrome.google.com/webstore/detail/web-server-for-chrome/ofhbbkphhbklhfoeikjpcbhemlocgigb?hl=en">Web Server for Chrome plugin</a>:
                <ul>
                  <li>install the plugin and open it</li>
                  <li>choose your working folder</li>
                  <li>open the Web Server URL</li>
                </ul>
              </li>
              <li>
                Use this as a backup plan only
              </li>
             </ul> 
             <p style="width: calc(100% - 400px); text-align: right;">
               <img src="img/01_syntax/server-plugin.png" alt="" class="border"> 
               <img src="img/01_syntax/server-plugin2.png" alt="" style="width: 150px"> 
             </p>
          </div>
        </section>
        <section>
          <h2>Browser &amp; console</h2>
          <div style="display: flex; justify-content: space-between; margin-left: -25px">
            <ul style="width: 350px">
              <li>
                When developing, use the best browser around; currently this is Chrome
              </li>
              <li>
                Make sure you have inspector always open (F12 or Shift-Ctrl-I)
              </li>
              <li>
                Anything goes wrong? check the errors in your <em>console</em>!
              </li>
             </ul> 
             <p style="width: calc(100% - 400px)">
               <img src="img/01_syntax/console.png" alt="" class="border"> 
             </p>
          </div>
        </section>
        <section data-toc-title="Text editor">
          <h2>Text editor (1)</h2>
          <div style="display: flex; justify-content: space-between; margin-left: -25px">
            <ul style="width: 55%">
              <li>
                You don’t need a fancy IDE – just a really good text editor
              </li>
              <li>
                Pick a decent editor, and learn to use the full power of it – no Notepad and alikes!
              </li>
              <li>
                For web developers, currently the most popular editors are:
                <ul>
                  <li><a href="https://www.sublimetext.com/3">Sublime Text</a></li>
                  <li><a href="https://code.visualstudio.com/download">Visual Studio Code</a></li>
                </ul>
              </li>
             </ul> 
             <p style="width: 45%">
               <img src="img/01_syntax/editors.png" alt="" style="width: 100%; max-width: 100%"> 
             </p>
          </div>
        </section>
        <section data-toc-title="">
          <h2>Text editor (2)</h2>
          <div style="display: flex; justify-content: space-between; margin-left: -25px">
            <ul style="width: 45%">
              <li>
                Always open your whole working folder in the editor, not just a single file
              </li>
              <li>
                Just drag the folder in the editor to open the sidebar
              </li>
             </ul> 
             <p style="width: 45%">
               <img src="img/01_syntax/sidebar.png" alt="" style="width: 100%; max-width: 100%"> 
             </p>
          </div>
        </section>
        <section>
          <h2>Linking scripts</h2>
          <ul>
            <li>
              You can run Javascript pretty much everywhere (shell scripts, serverside, embedded on devices...), but we'll focus on scripts in HTML pages
            </li>
            <li>
              The proper way to attach scripts is by <em>linking them</em>. Put them <em>at the bottom</em>, vendor scripts (= downloaded somewhere on the web) first, your scripts last:
              <div><pre class="bigger"><code class="language-html right">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;How to include scripts&lt;/title&gt;
  &lt;meta charset="utf-8" /&gt;
&lt;/head&gt;
&lt;body&gt;
  ...
  &lt;!-- load external libraries --&gt;
  &lt;script src="vendor/external-script-1.js"&gt;&lt;/script&gt;
  &lt;script src="vendor/external-script-2.js"&gt;&lt;/script&gt;
  &lt;!-- load your scripts --&gt;
  &lt;script src="js/my-script.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre></div>
            </li>
          </ul>
          <div class="tooltip">
            <div>
              Putting your scripts at the bottom allows the HTML to load first, which creates a better user experience, especially when scripts are large. Browsers limit the number of parallel downloads of images, scripts, css..., and it is better to load the visible resources first and scripts last.
            </div>
          </div>
        </section>
        <section>
          <h2>Script blocks</h2>
          <ul>
            <li>
              Although you <i>could</i> also put your scripts directly in the HTML with <em>script blocks</em>, we won't use them: HTML, CSS and Javascript should remain separated in their own files
              <div><pre class="bigger"><code class="language-html wrong">...
&lt;body&gt;
  ...
  &lt;script&gt;
    // your scripts here
    // ...
  &lt;/script&gt;
&lt;/body&gt;</code></pre></div>
            </li>
          </ul>
          <ul class="arrow">
            <li class="warning">
              don't use script blocks
            </li>            
          </ul>
        </section>
        <section>
          <h2>Inline scripts</h2>
          <ul>
            <li>
              You could also add <em>inline scripts</em> to your HTML, but as they break the separation of HTML and Javascript too, we won't use them either
              <div><pre class="bigger"><code class="language-html overlayrun wrong">&lt;input type="button" value="I'm a button" onclick="console.log('auch')" /&gt;
&lt;p&gt;note: for most  your console&lt;/p&gt;    
              </code></pre></div>
            </li>  
          </ul>
          <ul class="arrow">
            <li class="warning">
              don't use inline scripts
            </li>            
          </ul>
        </section>
        <section>
          <h2>Console.log()</h2>
          <ul>
            <li>
               You can use <code>console.log</code> to inspect values from the console:
              <div><pre class="bigger"><code class="language-javascript overlayrun contenteditable">let name = 'Rogier';
console.log('Hello ' + name);</code></pre></div>
            </li>
            <li>
               Any array or object can be inspected, not just primitive variables:
              <div><pre class="bigger"><code class="language-javascript overlayrun contenteditable">let names = ['Alice', 'Bob', 'Clive'];
let person = { name: 'rogier', age: '46', isMale: true};
console.log(person);
console.log(names);</code></pre></div>
            </li>
            <li>
               More console functions exist (<a href="https://developers.google.com/web/tools/chrome-devtools/console/api?utm_source=dcc&utm_medium=redirect&utm_campaign=2016q3#consolelogobject-object">full list here</a>), e.g.
              <div><pre class="bigger"><code class="language-javascript overlayrun contenteditable">console.table({ name: 'rogier', age: '46', isMale: true});
console.warn('this is a serious warning');
console.error('whoops! an error occured');</code></pre></div>
            </li>

          </ul>
          <ul class="arrow">
            <li>
              note: keep the console open (F12 or Ctrl-I) to see the results of this and other demos!
            </li>
          </ul>
          <div class="comments">
            <p>
              Writing decent editors for Javascript is difficult for JIT languages. The global classes/object tree is not known until execution, so proper code hinting and error prediction is near impossible. As for debugging: Javascript usually heavily depends on user interaction and events, so it is not always easy to know where to put breakpoints, and breakpoints halt all your code, also any background tasks that you may wish to keep running. Usually it makes the most sense to let your program run, and inspect some variables along the way.
            </p>
          </div>
        </section>
        <section>
          <h2>[alert(), confirm(), prompt()]</h2>
          <ul>
            <li>
              In a browser you can use the standard Javascript dialog windows <code>alert()</code>, <code>confirm()</code> and <code>prompt()</code>:
              <div><pre class="bigger"><code class="language-javascript overlayrun inputOutputCode">let name = prompt('Enter your name')<span class="colon">;</span>
alert('Hello ' + name)<span class="colon">;</span>
let doHighfive = confirm('High five?')<span class="colon">;</span>
if (doHighfive) console.log('High five!')<span class="colon">;</span></code></pre></div>
            </li>
          </ul>
          <ul class="arrow">
            <li>
              don't use these, not even for testing (use your console instead)!
            </li>
          </ul>
        </section>
        <section data-toc-title="HTML, CSS and JS together">
          <h2>HTML, CSS and JS together (1)</h2>
          <ul>
            <li>
              Find HTML elements by id with <code>document.getElementById()</code>, add event listeners with <code>addEventListener()</code>, and react by changing styles and properties. A basic math quiz example:
              <div><pre class="bigger"><code class="language-html overlayrun" style="max-height: 250px;">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Math quiz&lt;/title&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;style&gt;
    input[type=text] { width: 60px; text-align: right }
    .wrong { background-color: #fcc; }
    .right { background-color: #cfc; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Math exam&lt;/h1&gt;
  &lt;span id="question"&gt;&lt;/span&gt;
  &lt;input type="text" id="answer" /&gt;
  &lt;input type="button" value="check" id="btn1" /&gt;
  &lt;script&gt;
    let val1 = parseInt(Math.random() * 100);
    let val2 = parseInt(Math.random() * 100);
    let inpAnswer = document.getElementById('answer');
    document.getElementById('question').innerHTML =  val1 + ' + ' + val2 + ' = ';
    document.getElementById('btn1').addEventListener('click', function() {
      inpAnswer.className = inpAnswer.value == val1 + val2 ? 'right' : 'wrong';
    });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div>
            </li>
          </ul>
        </section>
        <section data-toc-title="">
          <h2>HTML, CSS and JS together (2)</h2>
          <ul>
            <li>
              Another example of HTML, CSS and Javascript working together to create custom video controls:
              <pre class="bigger"><code contenteditable class="language-html overlayrun" style="max-height: 250px">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;title&gt;Custom controls&lt;/title&gt;
  &lt;meta charset="utf-8" /&gt;
  &lt;style&gt;
    body {
      padding: 20px;
    }
    p {
      margin-top: 0;
    }
    #myControls a {
      color: #666;
      padding: 5px 10px;
      border: 1px solid;
      text-decoration: none;
      background-color: #ddd;
    }
    #inpSeek {
      width: 320px;
    }
    video {
      width: 320px;
      height: 240px;
      transition: all 0.5s ease-in-out;
    }
    video.funky {
      transform: rotateZ(10deg);
      box-shadow: 10px 10px 33px 0px rgba(0,0,0,0.75);
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;video src="demos/01_syntax/alltogether/media/tango.mp4" poster="demos/01_syntax/alltogether/img/meloYBratt.jpg" id="video"&gt;
    Your browser dows not support the video tag
  &lt;/video&gt;
  &lt;nav id="myControls"&gt;
    &lt;p&gt;&lt;input type="range" min="0" max="211" value="0" id="inpSeek"  /&gt;&lt;/p&gt;
    &lt;p&gt;
      &lt;a href="#" id="lnkPlay"&gt;play&lt;/a&gt;
      &lt;a href="#" id="lnkMute"&gt;mute&lt;/a&gt;
    &lt;/p&gt;
    &lt;p&gt;&lt;label&gt;&lt;input type="checkbox" id="chbFunky"&gt; funky version&lt;/label&gt;&lt;/p&gt;
  &lt;/nav&gt;
  &lt;script&gt;
    let video = document.getElementById('video');
    document.getElementById('lnkPlay').addEventListener('click', function() {
      if (video.paused) {
        video.play();
        this.innerHTML = 'stop';
      }
      else {
        video.pause();
        this.innerHTML = 'play';
      }
      return false;
    });
    document.getElementById('lnkMute').addEventListener('click', function() {
      if (video.volume &gt; 0) {
        video.volume = 0;
        this.innerHTML = 'unmute';
      } else {
        video.volume = 1;
        this.innerHTML = 'mute';
      }
      return false;
    });
    document.getElementById('inpSeek').addEventListener('change', function() {
      video.currentTime = this.value;
    });
    document.getElementById('chbFunky').addEventListener('change', function() {
      if (this.checked) video.classList.add('funky');
      else video.classList.remove('funky');
    });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
              <div class="demolink"><a href="demos/01_syntax/alltogether/index.html">demo</a></div>
            </li>
          </ul>
        </section>
      </section>
      <section>
        <section>
          <h1>JAVASCRIPT SYNTAX</h1>
          <h2>Variables</h2>
          <ul class="chapterlist">
            <!-- to be filled by Javascript -->
          </ul>
        </section>
        <section>
          <h2>Creating variables</h2>
          <ul>
            <li>
              A variable has a name and a value:
              <div><pre class="bigger"><code contenteditable class="language-javascript overlayrun">let quoteOfTheDay = 'Now have that tasty morning burger';
console.log(quoteOfTheDay);</code></pre></div>
            </li>
            <li>
              Javascript is <em>weakly typed</em>, i.e. you don't mention their type explicitly:
              <div><pre class="bigger"><code class="language-javascript">let num = 3; // number
let boo = true; // boolean
let str = 'hello'; // string; note: you may use single or double quotes
let fun = function(nm) { console.log('hello' + nm) }; // function
let arr = [1, 2, 3, 5, 8, 13]; // array
let rex = /^\d+$/ // regular expression
let obj = { id: 2, url: 'img/me.jpg', hidden: false } // general object
let dat = new Date(); // Date object
</code></pre></div>
            </li>
          </ul>
        </section>
        <section>
          <h2>Types</h2>
          <ul>
            <li>
              Javascript is <em>dynamically typed</em>, i.e. their type can change any time:
              <div><pre class="bigger"><code contenteditable class="language-javascript overlayrun">let test; console.log(typeof test); // type is undefined
test = 123.4; console.log(typeof test); // type is now number
test = 'hi'; console.log(typeof test); // type is now string
</code></pre></div>
            </li>
            <li>
              You can mix types in expressions, but results aren't always intuitive:
              <div><pre class="bigger"><code class="language-javascript overlayrun">console.log(3 + '2'); // 32; both treated as string
console.log(3 * '2'); // 6; both treated as number
console.log(3 * ' monkeys'); // NaN &mdash; Not a Number
console.log(3 == '3.0'); // true; both treated as number
console.log(true == 'true'); // false; true is converted to 1 and then to '1'
</code></pre></div>
            </li>
          </ul>
          <ul class="arrow">
            <li class="warning">
              if possible, avoid mixing types
            </li>            
          </ul>
        </section>
        <section>
          <h2>Identity operator</h2>
          <ul>
            <li>
              When comparing values, the identity operator <code>===</code> (compares values and types) is preferred the equals operator <code>==</code> (compares values only):
              <div><pre class="bigger"><code contenteditable class="language-javascript overlayrun">console.log('3' == 3); // true
console.log('3' === 3); // false; different types
console.log('' == false); // true
console.log('' === false); // false; different types</code></pre></div>
            </li>
          </ul>
          <ul class="arrow">
            <li>
              using the identity operator is preferred (in Javascript <i>and</i> in PHP)
            </li>
          </ul>
        </section>
        <section>
          <h2>Undefined, NaN</h2>
          <ul>
            <li>
              An unassigned variable has the value <code>undefined</code>:
              <div><pre class="bigger"><code contenteditable class="language-javascript overlayrun">let test1;
console.log(test1); // undefined</code></pre></div>
            </li>
            <li>
              A variable that should be a number but cannot be calculated has the value <code>NaN</code> (Not a Number):
              <div><pre class="bigger"><code contenteditable class="language-javascript overlayrun">let test1 = 7 * "bladibla"; // multiplication yields numbers
console.log(test1); // NaN</code></pre></div>
            </li>
          </ul>
        </section>
        <section>
          <h2>Constants</h2>
          <ul>
            <li>
              With <code>const</code>, a variable cannot be reassigned:
              <div><pre class="bigger"><code contenteditable class="language-javascript">// define some constants
const pi = 3.141592653589793;
const numLives = 3;
const carMakes = ['Saab', 'Volvo', 'BMW'];  
const me = { name: 'Rogier', age: 48 }              

// you can't reassign a constant
pi = 3.14; // error
numLives--; // error
carMakes = ['Mercedes', 'Volvo', 'Dacia']; // error

// however: changes to array elements or object properties are ok
carMakes[1] = 'Peugeot'; // ok
carMakes.push('Tesla'); // ok
me.age = 49; // ok
</code></pre></div>
            </li>
          </ul>
        </section>
        <section>
         <h2>Multiline strings</h2>
         <ul>
            <li>
               Python-inspired multiline strings; notice the backticks <code>`...`</code>:
               <div>
                  <pre class="bigger"><code class="language-javascript strict overlayrun" contenteditable>let message = `Ik ben voor je gevallen,
gevallen op straat,
Ik zag je mooie ogen
maar de stoeprand te laat`;

console.log(message);
</code></pre>
               </div>
            </li>
         </ul>
      </section>
      <section>
         <h2>String interpolation</h2>
         <ul>
            <li>
               remember PHP:
               <div>
                  <pre class="bigger"><code class="language-php" contenteditable>$name = "Rogier";
$message = "hello $name, how are you?" // hello Rogier, how are you?</code></pre>
               </div>
            </li>
            <li>
               in ES6 (notice again the backticks):
               <div>
                  <pre class="bigger"><code class="language-javascript overlayrun" contenteditable>let person1 = { name: 'Rogier', age: 44 };
let myName = 'Bob';
let message = `hello ${person1.name}, my name is ${myName}`;
console.log(message);  // hello Rogier, my name is Bob</code></pre>
               </div>
               <div>
                  <pre class="bigger"><code class="language-javascript overlayrun" contenteditable>let id = 3;
let language = 'nl';
let url = `http://www.somedomain.com/?id=${id}&amp;lang=${language}`;
console.log(url); // http://www.somedomain.com/?id=3&amp;lang=nl</code></pre>
               </div>
            </li>
         </ul>
        </section>
        <section>
         <h2>Array and string methods</h2>
         <ul>
            <li>
               some intersting array and string methods:
               <div>
                  <pre class="bigger"><code class="language-javascript overlayrun" contenteditable>// array
console.log([3, 4, 2, 7, 6].find(x => x > 3)); // find first: 4; uses arrow functions
console.log([3, 4, 2, 7, 6].filter(x => x % 2 == 0)); // filter: [4, 2, 6]
console.log([3, 4, 2, 7, 6].map(x => x * 2)); // do for each: [6, 8, 4, 14, 12]
console.log([3, 4, 2, 7, 6].includes(7); // contains value: true

// string
console.log("ha".repeat(3)); // hahaha
console.log("hello".startsWith("ello", 1)) // true
console.log("hello".endsWith("hell", 4)); // true
console.log("hello".includes("ell")); // true

// math
console.log(Math.trunc(42.7)) // 42
console.log(Math.sign(-7)) // -1
</code></pre>
               </div>
            </li>
         </ul>
      </section>
</section>
      <section>
        <section>
          <h1>JAVASCRIPT SYNTAX</h1>
          <h2>Functions</h2>
          <ul class="chapterlist">
            <!-- to be filled by Javascript -->
          </ul>
        </section>
        <section>
          <h2>Creating functions</h2>
          <ul>
            <li>
              Classic syntax style:
              <pre class="bigger"><code contenteditable class="language-javascript">function myFunction(par1, par2) { 
  // function statements here
  // ...
} </code></pre>
            </li>
            <li>
              Newer syntax style:
              <pre class="bigger"><code contenteditable class="language-javascript">let myFunction = function(par1, par2) { 
  // function statements here
  // ...
}; </code></pre>
            </li>
          </ul>
          <ul class="arrow">
            <li>
              you are free to use either syntax
            </li>
          </ul>
          <div class="tooltip">
            <div>
              <p>
                There is a drawback however when using the newer syntax. This fragment will throw an error:
              </p>
              <p>
<pre><code>console.log(sayHelloTo('Bill'));
let sayHelloTo = function(name) {
  return 'Hello ' + name;
}
</code></pre>
              </p>
              <p>
                But when you use the classic syntax, it runs justfine:
              </p>
              <p>
<pre><code>console.log(sayHelloTo('Bill'));
function sayHelloTo(name) {
  return 'Hello ' + name;
}
</code></pre>
              </p>              
              <p>
                The problem is that the newer syntax doesn't allow you to call a function before its definition. If that is a problem, you may want to stick to the classic style.
              </p>
            </div>
          </div>
        </section>
        <section>
          <h2>Executing functions</h2>
          <ul>
            <li>
              To execute a function, just call the () operator:
              <div><pre class="bigger"><code contenteditable class="language-javascript overlayrun">// define functions
let sayHello = function() { 
  console.log('hello');
};
let getNumVowels = function(str) { 
  return str.match(/[aeiou]/g).length; // don't worry too much about this line
};

sayHello(); // execute sayHello 
let text = 'The quick brown fox jumps over the lazy dog';
let textNumVowels = getNumVowels(text); // execute getNumVowels
console.log('The text contains ' + textNumVowels + ' vowels'); 
</code></pre></div>
            </li>
          </ul>
        </section>
        <section>
          <h2>Functions as arguments</h2>
          <ul>
            <li>
              In Javascript functions are just variables, and can be used as arguments in other functions:
              <pre class="bigger"><code contenteditable class="language-javascript overlayrun">let end = function() {
  console.log('Ok, that was funny 😄');
}
let speak = function(quote, callback) {
  console.log(quote);
  callback();
}

speak('Behind every great man is a woman rolling her eyes.', end);
</code></pre>
            </li>
          </ul>
        </section>
        <section id="anonymous-function">
          <h2>Anonymous functions</h2>
          <ul>
            <li>
              You can even directly create and pass a function without declaring it first:
              <pre class="bigger"><code contenteditable class="language-javascript overlayrun">let speak = function(quote, callback) {
  console.log(quote);
  callback();
}

speak('Behind every great man is a woman rolling her eyes. ', function() {
  console.log('Ok, that was funny 😄');
});
</code></pre>
            </li>
          </ul>
          <ul class="arrow">
            <li>
              the callback function has no name; this is called an <em>anonymous function</em>
            </li>
            <li>
              anonymous functions are used often with event handlers (see next presentation)
            </li>
          </ul>
        </section>
      </section>
      <section>
        <section>
          <h1>JAVASCRIPT SYNTAX</h1>
          <h2>Objects</h2>
          <ul class="chapterlist">
            <!-- to be filled by Javascript -->
          </ul>
        </section>
        <section>
          <h2>Creating objects</h2>
          <ul>
            <li>
              You don't need a class to create an object, just use a literal:
              <div><pre class="bigger"><code contenteditable class="language-javascript overlayrun">// object Literal
let forrest = {
  firstName : 'Forrest',
  lastName : 'Gump',
  sentence : 'Stupid is as stupid does',
  says : function() {
    return this.sentence;
  }
};

// accessing properties
console.log(forrest);
console.log(forrest['firstName']); // hash notation
console.log(forrest.firstName); // preferred notation
console.log(forrest.says());
</code></pre></div>
            </li>
          </ul>
        </section>
        <section data-toc-title="Adding properties">
          <h2>Adding properties (1)</h2>
          <ul>
            <li>
              You can add arbitrary new properties to existing objects:
              <pre class="bigger"><code contenteditable class="language-javascript overlayrun">// create object "me"
let me = {
  name: 'Rogier',
  age: 49
}

// add properties
me.numBeers = 0;
me.giveBeer = function() {
  if (this.numBeers >= 3) {
    console.log('you really had enough, ' + this.name);
    return;
  }
  this.numBeers++;
  console.log('here is your beer number ' + this.numBeers);
}

// serve
me.giveBeer();
me.giveBeer();
me.giveBeer();
me.giveBeer();
</code></pre>
            </li>
          </ul>
        </section>
        <section data-toc-title="">
          <h2>Adding properties (2)</h2>
          <ul>
            <li>
              You can actually add properties to any Javascript object, not just native Javascript objects. Example where a property <code>numClicks</code> is attached to two HTML buttons:
              <div><pre class="bigger"><code class="language-html overlayrun">&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Custom properties example&lt;/title&gt;
  &lt;meta charset="utf-8" /&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;button id="btn1"&gt;Button 1&lt;/button&gt; 
  &lt;button id="btn2"&gt;Button 2&lt;/button&gt; 
  &lt;script&gt;
    // note: 'this' refers to the object calling the function, i.e. the button
    let handleClick = function() {
      if (!this.numClicks) this.numClicks = 0;
      this.numClicks++;
      console.log('clicks on ' + this.id + ': ' + this.numClicks);
    }

    // attach click event handlers to the buttons
    document.getElementById('btn1').addEventListener('click', handleClick);
    document.getElementById('btn2').addEventListener('click', handleClick);
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div>
            </li>
          </ul>
        </section>
        <section>
          <h2>Object as parameter</h2>
          <ul>
            <li>
              Objects are often used to group properties into a single parameter:
              <pre class="bigger"><code contenteditable class="language-javascript overlayrun">// 'thing' should be an object 
let getDescription = function(thing) {
  let str = '';
  str += 'Name: ' + thing.kind + '\n';  
  str += 'Color: ' + thing.color + '\n';  
  str += 'It weighs ' + thing.volume * thing.density + 'kg\n';  
  return str;
}

// build the object
let stone = {
  kind: 'lapis lazuli',
  volume: 0.03, // m³
  density: 3000, // kg/m³
  color: 'darkblue'
}

// pass to the function and return result
console.log(getDescription(stone));
</code></pre>
            </li>
          </ul>
        </section>
        <section>
          <h2>Anonymous objects</h2>
          <ul>
            <li>
              You may also directly pass the object, without declaring it first:
              <pre class="bigger"><code contenteditable class="language-javascript overlayrun">// 'thing' should be an object 
let toString = function(thing) {
  let str = '';
  str += 'Name: ' + thing.kind + '\n';  
  str += 'Color: ' + thing.color + '\n';  
  str += 'It weighs ' + thing.volume * thing.density + 'kg\n';  
  return str;
}

// pass an anonymous object and return result
console.log(toString({
  kind: 'lapis lazuli',
  volume: 0.03, // m³
  density: 3000, // kg/m³
  color: 'darkblue'
}));
</code></pre>
            </li>
          </ul>
          <ul class="arrow">
            <li>
              the object has no name; this is called an <em>anonymous object</em>
            </li>
          </ul>
        </section>
      </section>

      <section>
        <section>
          <h1>JAVASCRIPT SYNTAX</h1>
          <h2>Quick syntax overview</h2>
          <ul class="chapterlist">
            <!-- to be filled by Javascript -->
          </ul>
        </section>
        <section>
          <h2>If-else</h2>
          <ul>
            <li>
              An <em><code>if-else</code></em> isn't much different from any programming language:
              <pre class="bigger"><code contenteditable class="language-javascript overlayrun">let badGrades = true;
if (badGrades) {
  console.log('House arrest for two weeks');
} else {
  console.log('No house arrest');
}</code></pre>
            </li>
            <li>
              If you just have to choose between two values based on a condition, consider using a <em>ternairy operator</em>:
              <pre class="bigger"><code contenteditable class="language-javascript overlayrun">let number = 13;
console.log(number + ' is ' + number % 2 == 0 ? 'even' : 'odd');</code></pre>
            </li>
          </ul>
        </section>
        <section>
          <h2>Switch-case</h2>
          <ul>
            <li>
              The <em><code>switch-case</code></em>:
              <pre class="bigger"><code contenteditable class="language-javascript overlayrun">let daynr = 4, dayname;
switch (daynr) {
  case 1: dayname = 'Monday'; break;
  case 2: dayname = 'Tuesday'; break;
  case 3: dayname = 'Wednesday'; break;
  case 4: dayname = 'Thursday'; break;
  case 5: dayname = 'Friday'; break;
  case 6: dayname = 'Saturday'; break;
  case 7: dayname = 'Sunday'; break;
  default: dayname = 'unknown'; break;
}
console.log(dayname);</code></pre>
            </li>
          </ul>
        </section>
        <section>
          <h2>For</h2>
          <ul>
            <li>
              A classic <em><code>for</code></em> loop, for example to loop over an array:
              <pre class="bigger"><code contenteditable class="language-javascript overlayrun">// define an array
let forrestFriends = ['Bubba', 'Lt. Dan'];

// loop over its values
for (let i = 0; i &lt; forrestFriends.length; i++) {
  console.log('friend number ' + i + ': ' + forrestFriends[i]);
}
</code></pre>
            </li>
          </ul>  
        </section>
        <section>
          <h2>For-of</h2>
          <ul>
            <li>
              If you just need the array values, you can also just use <em><code>for-of</code></em>:
              <pre class="bigger"><code contenteditable class="language-javascript overlayrun">// define an array
let forrestFriends = ['Bubba', 'Lt. Dan'];

// loop over its values
for (let friend of forrestFriends) {
  console.log(friend);
}</code></pre>
            </li>
          </ul>  
        </section>
        <section>
          <h2>For-in</h2>
          <ul>
            <li>
              To loop over an object's keys, use <em><code>for-in</code></em>:
              <pre class="bigger"><code contenteditable class="language-javascript overlayrun">// define object
let forrest = {
  firstName: 'Forrest',
  lastName: 'Gump'
};

// loop over keys
for (let key in forrest) {
  console.log(key + ' = ' + forrest[key]);
}</code></pre>
            </li>
          </ul>  
        </section>
        <section>
          <h2>(do) While</h2>
          <ul>
            <li>
              The <em><code>while</code></em> loop:
              <pre class="bigger"><code contenteditable class="language-javascript overlayrun">let count1 = 5;
while (count1 > 0) {
  console.log(count1);
  count1--;
}</code></pre>
            </li>
            <li>
              The <em><code>do-while</code></em> loop:
              <pre class="bigger"><code contenteditable class="language-javascript overlayrun">let count2 = 5;
do {
  console.log(count2);
  count2--;
} while (count2 > 0);
</code></pre>
            </li>
          </ul>  
        </section>
        <section>
          <h2>Break &amp; continue</h2>
          <ul>
            <li>
              <em><code>continue</code></em> skips the current loop and moves to the next one:
              <pre class="bigger"><code contenteditable class="language-javascript overlayrun">for (let x = 1; x &lt;= 20; x++) {
  if (x % 3 == 0) continue; // skip multiples of 3
  console.log('processing ' + x + '...');
}</code></pre>
            </li>
            <li>
              <em><code>break</code></em> completely exits the iteration:
              <pre class="bigger"><code contenteditable class="language-javascript overlayrun">for (let x = 1; x &lt;= 20; x++) {
  if (x % 3 == 0) break; // stop at multiple of 3
  console.log('processing ' + x + '...');
}</code></pre>
            </li>
          </ul>
          <ul class="arrow warning">
            <li>
              don't overuse <code>continue</code> and <code>break</code>; it often reflects a poor programming style
            </li>
          </ul>
        </section>
        <section>
          <h2>Throw-Try-Catch</h2>
          <ul>
            <li>
              Handle errors with <em><code>throw</code></em> and <em><code>try-catch</code></em>:
              <pre class="bigger"><code contenteditable class="language-javascript overlayrun">function getRectArea(width, height) {
  if (isNaN(width) || isNaN(height)) {
    throw 'Parameter is not a number!';
  }
  return width * height;
}

try {
  console.log(getRectArea(3, 'A'));
} catch(e) {
  console.warn(e);
}</code></pre>
            </li>
          </ul>
          <div class="tooltip">
            <div>
              Maybe surprisingly: I hardly ever use error handling with try-catch. Unless you really have no control over the possibility of an error (e.g. because you rely on third party data or code), it's better to let the error happen, and correct your code, instead of sweeping it under the carpet with a try-catch.
            </div>
          </div>
        </section>
        <section>
          <h2>Built-in classes</h2>
          <ul>
            <li>
              Althought Javascript has a rather limited set compared to other languages, it offers some basic built-in classes and functionality like <a href="https://www.w3schools.com/js/js_date_methods.asp">Date</a>, <a href="https://www.w3schools.com/js/js_math.asp">Math</a> and <a href="see https://www.w3schools.com/jsref/jsref_obj_array.asp">Array</a> (full overview on <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference">mozilla.org</a> or <a href="http://www.w3schools.com/js/default.asp">w3schools.com</a>):
              <pre class="bigger"><code contenteditable class="language-javascript overlayrun">// Date example
let now = new Date(); 
console.log(now.getFullYear());

// Math example
console.log(Math.ceil(Math.random() * 10));

// Array example 
let shakefruits = ['banana', 'orange', 'apple', 'mango'];
if (shakefruits.includes('orange')) console.log('this shake has orange');
shakefruits.push('pear'); // add a pear to the array
console.log(shakefruits);
</code></pre>
            </li>
          </ul>
        </section>
      </section>
      <section>
        <section>
          <h1>JAVASCRIPT SYNTAX</h1>
          <h2>Coding guidelines</h2>
          <ul class="chapterlist">
            <!-- to be filled by Javascript -->
          </ul>
        </section>
        <section data-toc-title="Comments">
          <h2>Comments (1)</h2>
          <ul>
            <li>
              comment abundantly and consistently; here's my suggested method
            </li>
            <li>
              Each scriptfile: PHPDoc-style comment on top:
              <pre class="bigger"><code contenteditable class="language-javascript">/**
 * Customized agenda script
 * Inspired on http://code.net//jquery-flat-timeline/
 *
 * @author Rogier van der Linde &lt;rogier.vanderlinde@odisee.be&gt;
 */

// ... rest of script
</code></pre>
            </li>
          </ul>
        </section>
        <section data-toc-title="">
          <h2>Comments (2)</h2>
          <ul>
            <li>
              Each function: PHPDoc-style:
              <pre class="bigger"><code contenteditable class="language-javascript">/**
 * Executed when the module is loaded
 *
 * @param mixed $needle Value we're looking for.
 * @param array $haystack Array of values
 *
 * @return boolean
 */
let inArray = function(needle, haystack) {
  // ...
}</code></pre>
            </li>
            <li class="no-style">
              ...or single line comment on top:
              <pre class="bigger"><code contenteditable class="language-javascript">// initializer
let init = function() {
  // ...
}</code></pre>
            </li>
          </ul>
        </section>
        <section data-toc-title="">
          <h2>Comments (3)</h2>
          <ul>
            <li>
              Code blocks: start each block with single comment line; separate with whitelines
              <pre class="bigger"><code contenteditable class="language-javascript">let function1 = function() {
  // description block 1
  statement 1;

  // description block 2
  statement 2;
  statement 3;
  statement 4;
  statement 5;

  // description block 3
  statement 6;
  statement 7;
}
</code></pre>
            </li>
          </ul>
          <ul class="arrow">
            <li>
              each block <i>must</i> have a description (even if it's simple); make your story complete
            </li>
          </ul>
        </section>
        <section>
          <h2>Indentation</h2>
          <ul>
            <li>Choose either spaces, or tabs, not both:</li>
              <pre class="bigger"><code contenteditable class="language-javascript">let test = function() {
....let somelet = 'some value';
....for (let i = 0; i &lt; 10; i++) {
........// do something here
........// do something here too
....}
};</code></pre>
            </li>
          </ul>
        </section>
        <section>
          <h2>Spaces</h2>
          <ul>
            <li>
              Put spaces:
              <ul>
                <li class="v-style">after punctuation marks (<code>, : ;</code>), not before</li>
                <li class="v-style">before and after operators (<code>== &lt; &amp;&amp; +</code> ...) </li>
                <li class="v-style">after keywords (<code>if, for, while, function</code> ...)</li>
              </ul>
            </li>
            <li>
              Examples:
              <pre class="bigger"><code contenteditable class="language-javascript wrong">for(let x=0 ; x&lt;10 ; x++) {
  // ...
}
let hasItems = arrItems.length>0?true:false ;
</code></pre>
              <pre class="bigger"><code contenteditable class="language-javascript right">for (let x = 0; x &lt; 10; x++) {
  // ...
}
let hasItems = arrItems.length > 0 ? true : false;</code></pre>
            </li>
          </ul>
          <div class="tooltip">
            <div>
              Spaces are put after keywords to distinguish with functions.
            </div>
          </div>
        </section>
        <section>
          <h2>Semicolons</h2>
          <ul>
            <li>
              Put semicolons:
              <ul>
                <li class="v-style">after each statement</li>
                <li class="v-style">after an assignment statement <code>let varName = {...};</code></li>
                <li class="x-style">not after all other }</li>
              </ul>
            </li>
            <li>
              Examples:
              <pre class="bigger"><code contenteditable class="language-javascript right">let test1 = function() {
  console.log('test1 function executing'); // statement
}; // assignment statement

if (x &amp;&amp; x === 9) {
  console.log('x is nine'); // statement
} // don't put one here!</code></pre>
            </li>
          </ul>
        </section>
        <section>
          <h2>Curly braces</h2>
          <ul>
            <li>
              Rules (apply to block statements only, not to object literals):
              <ul>
                <li class="v-style">always use them when optional</li>
                <li class="x-style">don't put them on one line</li>
              </ul>
            </li>
            <li>
              Examples:
              <pre class="bigger"><code contenteditable class="language-javascript wrong">if (some_condition)
  ...
else
  ...</code></pre>
              <pre class="bigger"><code contenteditable class="language-javascript right">if (some_condition) {
  ...
} else {
  ...
}</code></pre>
            </li>
          </ul>
        </section>
        <section>
          <h2>Identifiers</h2>
          <ul>
            <li>
              Conventions:
              <ul>
                <li class="v-style">use camelCase for all identifiers (variables, functions...)</li>
                <li class="v-style">exception: use UPPER_CASE for all constants</li>
              </ul>
            </li>
            <li>
              Examples:
              <pre class="bigger"><code contenteditable class="language-javascript right">// variables
let userName = 'Rogier'; 
let someFunction = function() { // variable
  // ....
}                

// constants
const CHESSBOARD_SIZE = 8; 
const POSSIBLE_GRADES = ['awful', 'ok-ish', 'swell'];
</code></pre>
            </li>
          </ul>
        </section>
        <section>
          <h2>Scope</h2>
          <ul>
            <li>
              The <em>scope</em> is the environment in which a variable exist. 
              Variables that live everywhere, are said to be in the <em>global scope</em>.
            </li>
            <li>
              In this fragment, the scope of the inner variable <code>num</code> is limited to the iteration, not interfering with the outer variable <code>num</code>:
              <div><pre class="bigger"><code contenteditable class="language-javascript overlayrun">let num = 100; // outer num; lives in global scope
for (let num = 0; num &lt; 10; num++) {
  // inner num; only lives in 'for'-scope
}
console.log(num); // still 100; outer num hasn't changed
</code></pre></div>
            </li>
          </ul>
        </section>
        <section>
          <h2>Don't use var</h2>
          <ul>
            <li>
              On the Internet, you'll run into many fragments using <code>var</code> instead of <code>let</code> to define variables. The problem with <code>var</code> is that its scope isn't limited by control structures like it should:
              <div><pre class="bigger"><code contenteditable class="language-javascript overlayrun ">var num = 100; // outer num; lives in global scope
for (var num = 0; num &lt; 10; num++) {
  // inner num; only lives in 'for'-scope
}
console.log(num); // 10; outer num is overwritten by inner num
</code></pre></div>
            </li>
          </ul>
          <ul class="arrow warning">
            <li>never EVER use <code>var</code> to declare a variable</li>
          </ul>
        </section>
        <section>
         <h2>use const</h2>
         <ul>
           <li>
             If a variable is assigned only once, you <i>should</i> use <em><code>const</code></em> in Javascript. Example: this fragment...
             <div><pre class="bigger"><code contenteditable class="language-javascript">let values = [];
let message = '';
for (let i = 0; i < 10; i++) {
   let rnd = Math.floor(Math.random() * 10 + 1);
   message += `...adding ${rnd}\n`;
   values.push(rnd);
}
console.log(message);</code></pre></div>
            ...should be written as:
            <div><pre class="bigger"><code contenteditable class="language-javascript"><b>const</b> values = []; // only assigned once
let message = '';
for (let i = 0; i < 10; i++) {
   <b>const</b> rnd = Math.floor(Math.random() * 10 + 1); // only assigned once
   message += `...adding ${rnd}\n`;
   values.push(rnd);
}
console.log(message);</code></pre></div>
            </li>
         </ul>
       </section>
        <section>
          <h2>How to avoid global space</h2>
          <ul>
            <li>
              Scripts are often combined with other scripts in the same page. Variables in the global space might conflict with each other. 
            </li>  
            <li>
              To avoid conflicts, wrap your code in its own scope with a so-called <em>self invoking anonymous function</em>:
              <pre class="bigger"><code contenteditable class="language-javascript overlayrun">// your code wrapped in an anonymous function
(function() {
  let number1 = 5;
  let number2 = 7;
  console.log('the sum is ' + (number1 + number2));
  console.log('variable "number1" is accessible inside; its type is ' + typeof number1);
  console.log('variable "number2" is accessible inside; its type is ' + typeof number2);
})();

// someone else's code
console.log('variable "number1" is unaccessible outside; its type is ' + typeof number1);
console.log('variable "number2" is unaccessible outside; its type is ' + typeof number2);
</code></pre>
            </li>
          </ul>
          <ul class="arrow">
            <li>
              this encapsulates your variables, hidden for the outside world (good practice!)
            </li>
            <li>
              this will be the basic structure of all our scripts
            </li>
          </ul>
        </section>
        <section data-toc-title="Use strict">
          <h2>Use strict (1)</h2>
          <ul>
            <li>
              New since ECMAScript 5 (2016); ignored in earlier versions
            </li>
            <li>
              Turns Javascript in a more strict, cleaner mode:
              <ul>
                <li>prohibits some syntax that is likely an error (e.g. declaring the same variable twice)</li>
                <li>makes it easier for Javascript engines to optimize code</li>
              </ul>
            </li>
            <li>
              Examples:
              <pre class="bigger"><code contenteditable class="language-javascript overlayrun">'use strict';

let somevariable;
someVariable = 7; // might be typo; new variable not allowed without 'let'

let sum = function(a, a, c) { // possible mistake: duplicate parameter names
  // ...
}
</code></pre>
            </li>
          </ul>
        </section>
        <section data-toc-title="">
          <h2>Use strict (2)</h2>
          <ul>
            <li>
              Should be first line of the script or function
            </li>
            <li>
              It applies to the whole scope, so this is a bad idea:
              <pre class="bigger"><code contenteditable class="language-javascript wrong">'use strict';

let function1 = function() {
  // ...
}

let function2 = function() {
  // ...
}

// ...
</code></pre>
            </li>
          </ul>
          <ul class="arrow warning">
            <li>it would also apply to any other included code, possibly breaking it</li>
          </ul>
        </section>
        <section data-toc-title="">
          <h2>Use strict (3)</h2>
          <ul>
            <li>
              Encapsulate your script in a self-invoking anonymous function, all is ok:
              <pre class="bigger"><code contenteditable class="language-javascript right">(function() {
  'use strict';

  let function1 = function() {
    // ...
  }

  let function2 = function() {
    // ...
  }
})();</code></pre>
            </li>
          </ul>
          <ul class="arrow">
            <li>applies to the enclosed code only</li>
          </ul>
        </section>
        <section data-toc-title="">
          <h2>Window onload event</h2>
          <ul>
            <li>
              Usually, you'll want for all of the page's content to have loaded before starting your script. Use the <em><code>onload</code></em> event of the <code>window</code> object:
              <pre class="bigger"><code contenteditable class="language-javascript right">(function() {
  'use strict';

  let function1 = function() {
    // ...
  }

  let function2 = function() {
    // ...
  }

  window.addEventListener('load', function() {
    // start your script here
    // ...
  });
})();</code></pre>
            </li>
            <li class="arrow" style="color: #070">this is the basic structure you should use for all your scripts!</li>
          </ul>
        </section>
     </section>


    </div>

    <!-- odisee.be link -->
    <a href="http://www.odisee.be/" title="odisee.be" id="odisee"><img src="img/odisee.png" alt="Odisee logo"></a>

    <!-- Index Link -->
    <aside class="back">
      <nav>
        <p><a href="index.html">&larr; Back to index</a></p>
      </nav>
    </aside>

  </div>

  <script src="vendor/jquery.min.js"></script>
  <script src="vendor/reveal/lib/js/head.min.js"></script>
  <script src="vendor/reveal/js/reveal.js"></script>
  <script src="vendor/highlight/highlight.pack.js"></script>
  <script src="vendor/incrementable.js"></script>
  <script src="vendor/prefixfree.js"></script>
  <script src="vendor/css-snippets.js"></script>
  <script src="vendor/css-edit.js"></script>
  <script src="js/main.js"></script>
  <script>
    var devtools = /./;
      devtools.toString = function() {
      this.opened = true;
    }
    console.log('%c', devtools);
    if (!devtools.opened) {
      alert('some demos show their results in the console, so keep it open (press F12 or Shift-Ctrl-I)');
    }
  </script>

</body>
</html>
