<!DOCTYPE html>
<html lang="en">
<head>
    <title>Ajax example</title>
    <meta charset="utf-8">
</head>
<body>
    <div id="weather"></div>
    <script>
        // DOM
        const divWeather = document.querySelector('#weather');

        // base url
        let url = 'https://api.openweathermap.org/data/2.5/weather?';

        // append parameters
        const params = new URLSearchParams();
        params.append('APPID', '3ebaf394980f26ae85f41a9ce0a2b8e6');
        params.append('q', 'Brussels');
        params.append('units', 'metric');
        params.append('lang', 'nl');
        url = url + params.toString();

        // AJAX call
        fetch(url)
          .then(function(res) {
              return res.json()
          })
          .then(function(data) {
              divWeather.innerHTML = 'Het is in Brussel ' + data.main.temp + '&deg;C en ' + data.weather[0].description;
          })
          .catch(function(err) {
              console.log('Request failed', err)
          });
    </script>
</body>
</html>
