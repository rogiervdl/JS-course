<!doctype html>
<html>
  <head>
    <title>Particles [JS1k entry]</title>
    <meta charset="utf-8" />
  </head>
  <body>
    <canvas id="c"></canvas>
    <script>md=0;m=Math;mr=m.round;mn=m.random;d=document;dl="addEventListener";w=window;d.body.style.backgroundColor="#000";c=document.getElementById("c");t=c.getContext("2d");wr();x=c.width*0.5;y=c.height*0.5;d[dl]("mousemove",function(a){x=a.clientX;y=a.clientY},0);d[dl]("mousedown",function(){md=1},0);d[dl]("mouseup",function(){md=0},0);w.addEventListener("resize",wr,0);l=[];i=0;while(++i<25){p={x:x,y:y,sx:x,sy:y,s:2+mn(),a:0,sp:0.01+mn()*0.04,f:"#"+(mn()*4210752+11184810|0).toString(16),o:55+(55*mn())};l.push(p)}setInterval(function(){t.fillStyle="rgba(0,0,0,0.05)";t.fillRect(0,0,c.width,c.height);i=0;while(p=l[++i]){lp={x:p.x,y:p.y};p.a+=p.sp;p.sx+=(x-p.sx)*p.sp;p.sy+=(y-p.sy)*p.sp;p.x=p.sx+m.cos(i+p.a)*p.o;p.y=p.sy+m.sin(i+p.a)*p.o;p.x=m.max(m.min(p.x,c.width),0);p.y=m.max(m.min(p.y,c.height),0);t.beginPath();t.fillStyle=p.f;t.strokeStyle=p.f;t.lineWidth=p.s;t.moveTo(lp.x,lp.y);t.lineTo(p.x,p.y);t.stroke();t.arc(p.x,p.y,p.s/2,0,m.PI*2,1>0);t.fill()}},17);function wr(){c.width=w.innerWidth;c.height=w.innerHeight};</script>
  </body>
</html>
