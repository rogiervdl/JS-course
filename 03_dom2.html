<!DOCTYPE html>
<!-- [html-validate-disable no-trailing-whitespace] -->
<!-- [html-validate-disable no-inline-style] -->
<html lang="nl">

<head>
  <title>DOM deel 2 | Javascript cheat sheets</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="styles.css">
</head>

<body class="language-javascript">
  <div id="mode">
    <span>n00b</span>
    <label class="switch">
      <input type="checkbox" checked>
      <span class="slider round"></span>
    </label>
    <span>pro</span>
  </div>
  <nav class="site__nav">
    <a href="01_syntax.html" class="main__thumb" title="01. Javascript syntax">
      <p class="thumb__title">01. Javascript syntax</p>
      <img class="thumb__visual" src="img/01_syntax/icon.png" alt="">
    </a>
    <a href="02_dom1.html" class="main__thumb" title="02. DOM deel 1">
      <p class="thumb__title">02. DOM deel 1</p>
      <img class="thumb__visual" src="img/02_dom1/icon.png" alt="">
    </a>
    <a href="03_dom2.html" class="main__thumb active" title="03. DOM deel2">
      <p class="thumb__title">03. DOM deel 2</p>
      <img class="thumb__visual" src="img/03_dom2/icon.png" alt="">
    </a>
    <a href="04_async.html" class="main__thumb" title="04. Asynchrone Javascript">
      <p class="thumb__title">04. Asynchrone Javascript</p>
      <img class="thumb__visual" src="img/04_async/icon.png" alt="">
    </a>
  </nav>
  <h1>03. DOM deel 2</h1>
  <div id="toc"></div>

  <main>
    <!-- VIDEO -->
    <h2>On Youtube</h2>
    <h3>Video: tree navigatie, speciale nodes, classList, style, data-*, mouse en keyboard</h3>
    <div class="flexcontainer youtubecontainer">
      <iframe class="youtube" width="600" height="378" src="https://www.youtube.com/embed/oPhKAHd3GA8?si=Lyz5xTy_erknRLlB" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
      <figure class="print">
        <a href="https://www.youtube.com/embed/oPhKAHd3GA8"><img src="img/02_dom1/03.DWD-dom2.png" alt="" class="w-500"></a>
        <figcaption><a href="https://www.youtube.com/embed/oPhKAHd3GA8">https://www.youtube.com/embed/oPhKAHd3GA8</a></figcaption>
      </figure>
      <div class="youtube_toc">
        <p>spring naar...</p>
        <ul>
          <li>
            <a href="https://www.youtube.com/watch?v=oPhKAHd3GA8&t=18s">0:18 herhaling: basisoefening met events (menu click events voorbeeld)</a>
          </li>
          <li>
            <a href="https://www.youtube.com/watch?v=oPhKAHd3GA8&t=280s">4:40 speciale nodes</a>
            <ul>
              <li><a href="https://www.youtube.com/watch?v=oPhKAHd3GA8&t=301s">5:01 window node</a></li>
              <li><a href="https://www.youtube.com/watch?v=oPhKAHd3GA8&t=383s">6:23 document node</a></li>
              <li><a href="https://www.youtube.com/watch?v=oPhKAHd3GA8&t=421s">7:01 location node</a></li>
            </ul>
          </li>
          <li>
            <a href="https://www.youtube.com/watch?v=oPhKAHd3GA8&t=482s">8:02 CSS manipulatie</a>
            <ul>
              <li><a href="https://www.youtube.com/watch?v=oPhKAHd3GA8&t=612s">10:12 style property (jarenlijst voorbeeld vs1)</a></li>
              <li><a href="https://www.youtube.com/watch?v=oPhKAHd3GA8&t=701s">11:41 classList property (jarenlijst voorbeeld vs2)</a></li>
            </ul>
          </li>
          <li>
            <a href="https://www.youtube.com/watch?v=oPhKAHd3GA8&t=840s">14:00 data-* attributen (planten voorbeeld)</a>
          </li>
          <li>
            <a href="https://www.youtube.com/watch?v=oPhKAHd3GA8&t=1226s">20:26 DOM tree navigatie (menu volgende knop voorbeeld)</a>
          </li>
          <li>
            <a href="https://www.youtube.com/watch?v=oPhKAHd3GA8&t=1855s">30:55 input events</a>
            <ul>
              <li><a href="https://www.youtube.com/watch?v=oPhKAHd3GA8&t=1869s">31:09 toetsenbord (toetsdruk voorbeeld)</a></li>
              <li><a href="https://www.youtube.com/watch?v=oPhKAHd3GA8&t=1991s">33:11 muis (muisklik voorbeeld)</a></li>
              <li><a href="https://www.youtube.com/watch?v=oPhKAHd3GA8&t=2095s">34:55 gebruik in games (balletje in rechthoek voorbeeld)</a></li>
            </ul>
          </li>
          <li>
            <a href="https://www.youtube.com/watch?v=oPhKAHd3GA8&t=2714s">45:14 wat hebben we geleerd?</a>
          </li>
          <li>
            <a href="https://www.youtube.com/watch?v=oPhKAHd3GA8&t=2831s">47:11 herwerking fotogallerij voorbeeld (data-*, classList)</a>
          </li>
          <li>
            <a href="https://www.youtube.com/watch?v=oPhKAHd3GA8&t=3338s">55:38 herwerking formchecking (DOM tree navigatie, classList)</a>
          </li>
        </ul>
      </div>
    </div>

    <h2>DOM tree navigatie</h2>
    <p>
      Eenmaal je een node gevonden hebt (bv. met <code>querySelector()</code>) kan je verder <strong>navigeren in de boomstructuur</strong> met properties als <code>parentNode</code>, <code>children</code>, <code>nextElementSibling</code> enz...:
    </p>
    <div class="codecompare">
      <div>
        <div class="precontainer">
          <pre class="prism-okaida language-html line-numbers w-550" data-demo="demos/03_dom2/dom-navigation/index.html"><code>&lt;header&gt;
  &lt;h1&gt;DOM navigation&lt;/h1&gt;
&lt;/header&gt;
&lt;nav&gt;
  &lt;ul id="mainmenu"&gt;
    &lt;li&gt;&lt;a href="about.html"&gt;Over mij&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="practical.html"&gt;Praktisch&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="contact.html"&gt;Contact&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;
</code></pre>
        </div>
        <div class="precontainer">
          <pre class="prism-okaida line-numbers w-550"><code>const menu = document.querySelector('#mainmenu');

console.log(`menu's parent node:`);
console.log(menu.parentNode);
console.log(`menu's child nodes:`);
console.log(menu.children);

const nav = document.querySelector('nav');
console.log(`nav's previous sibling:`);
console.log(nav.previousElementSibling);
</code></pre>
        </div>
      </div>
      <div>
        <img src="img/03_dom2/dom-navigation.png" alt="" class="w-400">
      </div>
    </div>
    <p>Belangrijkste properties:</p>
    <table class="light">
      <thead>
        <tr>
          <th scope="col">property</th>
          <th scope="col">omschrijving</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>node.children</code></td>
          <td>collectie van children van de huidige node</td>
        </tr>
        <tr>
          <td><code>node.firstElementChild</code></td>
          <td>eerste child van de huidige node</td>
        </tr>
        <tr>
          <td><code>node.lastElementChild</code></td>
          <td>laatste child van de huidige node</td>
        </tr>
        <tr>
          <td><code>node.nextElementSibling</code></td>
          <td>volgende sibling (null indien niet gevonden)</td>
        </tr>
        <tr>
          <td><code>node.parentNode</code></td>
          <td>parent van de huidige node</td>
        </tr>
        <tr>
          <td><code>node.previousElementSibling</code></td>
          <td>vorige sibling (null indien niet gevonden)</td>
        </tr>
      </tbody>
    </table>
    <p>Een handige methode is ook <code>closest()</code>, die de eerste ancestor zoekt die voldoet aan de meegegeven selector</p>
    <pre class="prism-okaida line-numbers"><code>const nav = someLink.closest('nav'); // search from some link up the tree till you find 'nav'</code></pre>

    <h2>Speciale nodes</h2>
    <p>
      Een node in Javascript stelt bijna altijd een HTML element in het document voor. Er zijn echter nog een paar nodes die daarbuiten vallen, waarvan de belangrijkste zijn:
    </p>
    <ul>
      <li><code>window</code>: het browservenster</li>
      <li><code>document</code>: het HTML document</li>
      <li><code>location</code>: de adresbalk</li>
    </ul>
    <p>
      Deze noden bestaan ook, maar zijn ofwel verouderd, ofwel voor ons niet relevant:
    </p>
    <ul>
      <li><code>navigator</code>: gebruikte browser (niet meer relevant)</li>
      <li><code>screen</code>: het scherm van de gebruiker (vervangen door media queries)</li>
      <li><code>history</code>: browse historiek</li>
    </ul>
    <h3>Window node</h3>
    <p>
      Deze node stelt het <mark>browservenster</mark> voor. De <a href="https://www.w3schools.com/jsref/obj_window.asp">lijst properties en methodes</a> bevat voor ons niet zoveel interssants. Een paar mogelijks interessante zijn <code>window.print()</code>, <code>window.scrollTo()</code> en <code>window.alert()</code>. Een voorbeeld van die laatste (dialoogvenster):
    </p>
    <div class="codecompare">
      <pre class="prism-okaida line-numbers w-400"><code>window.alert('hallo wereld!');</code></pre>
      <img src="img/03_dom2/alert.png" alt="" class="w-500">
    </div>
    <h3>Document node</h3>
    <p>
      Deze node stelt het <mark>HTML document</mark> voor. De <a href="https://www.w3schools.com/jsref/dom_obj_document.asp">lijst properties en methodes</a> is lang; je herkent o.a. de methodes <code>document.querySelector()</code> en <code>document.querySelectorAll()</code>.
      De rest is weinig gebruikt of verouderd; de enige nog (een beetje) interssante property is <code>document.title</code>, die verwijst naar &lt;title&gt;, de titel getoond op het browser tabblad:
    </p>
    <div class="codecompare">
      <pre class="prism-okaida line-numbers w-400"><code>document.title = 'kot kot kedei';</code></pre>
      <img src="img/03_dom2/document-title.png" alt="" class="w-500">
    </div>
    <h3>Location node</h3>
    <p>
      Deze node stelt de adresbalk voor. In de <a href="https://www.w3schools.com/jsref/obj_location.asp">lijst properties en methodes</a> vind je o.a. de properties <code>location.href</code> (het adres) en <code>location.search</code> (alles na "?"), en de <code>location.reload()</code> methode.
      Een voorbeeld van een redirect met <code>location.href</code>:
    </p>
    <div class="codecompare">
      <pre class="prism-okaida line-numbers w-500"><code>if (location.search == '?gotogoogle') {
   location.href = 'https://www.google.com';  // redirect
}
</code></pre>
      <img src="img/03_dom2/location.png" alt="" class="w-500">
    </div>

    <h2>CSS manipulatie</h2>
    <p>
      We hebben in de vorige presentatie al twee manieren gezien om nodes te manipuleren:
    </p>
    <ul class="arrow">
      <li><strong>HTML attributen</strong>: deze zijn in Javascript beschikbaar onder properties met dezelfde naam</li>
      <li><strong>DOM properties</strong>: bijkomende properties van nodes die niet overeenkomen met HTML attributen</li>
    </ul>
    <p>
      We bekijken nu nog twee andere manieren:
    </p>
    <ul class="arrow">
      <li><mark>style</mark>: via deze property kan je rechtstreeks CSS properties aanpassen (enkel indien <code>classList</code> geen optie is)</li>
      <li><mark>classList</mark>: via deze property kan je CSS classes toevoegen of verwijderen (aanbevolen waar mogelijk)</li>
    </ul>

    <h3>style property</h3>
    <p>
      Je kan vanuit Javascript <strong>alle CSS eigenschappen</strong> van een node aanpassen met de <mark>style property</mark>. De namen zijn gelijk, al wordt b.v. <code>background-color</code> wel geCamelCased tot <code>backgroundColor</code>.
      Voorbeeld waarbij in een lijst het huidige jaar gemarkeerd wordt:
    </p>
    <div class="codecompare">
      <div>
        <div class="precontainer">
          <pre class="prism-okaida language-html line-numbers w-550"><code>&lt;ul id="jaar"&gt;
  &lt;li&gt;2021&lt;/li&gt;
  &lt;li&gt;2022&lt;/li&gt;
  &lt;li&gt;2023&lt;/li&gt;
  &lt;li&gt;2024&lt;/li&gt;
  &lt;li&gt;2025&lt;/li&gt;
  &lt;li&gt;2026&lt;/li&gt;
&lt;/ul&gt;</code></pre>
        </div>
        <div class="precontainer">
          <pre class="prism-okaida line-numbers w-550"><code>const currentYear = new Date().getFullYear();
const years = document.querySelectorAll('#jaar li');
years.forEach(li =&gt; {
  if (li.innerHTML == currentYear) {
    li.style.border = '3px dotted black';
    li.style.backgroundColor = '#aaf';
    li.style.color = 'white';
    li.style.fontStyle = 'italic';
  }
});
</code></pre>
          <div class="rectangle" style="left: 87px;top: 107px;height: 82px;width: 157px;"></div>
        </div>
      </div>
      <div>
        <img src="img/03_dom2/style.png" alt="" class="w-400">
      </div>
    </div>

    <h3>classList property</h3>
    <p>
      Meestal is het makkelijker gewoon opmaak te groeperen onder een <strong>CSS class</strong>, en die dan toe te wijzen (of te verwijderen) via de <mark>classList property</mark> met de methodes <code>add()</code>, <code>remove()</code>, <code>toggle()</code> en <code>contains()</code>. Ze verschijnen in de HTML bij de class attribuut. Het vorige voorbeeld herschreven:
    </p>
    <div class="codecompare">
      <div>
        <div class="precontainer">
          <pre class="prism-okaida language-html line-numbers w-550"><code>&lt;header&gt;
  &lt;h1&gt;DOM navigation&lt;/h1&gt;
&lt;/header&gt;
&lt;nav&gt;
  &lt;ul id="mainmenu"&gt;
    &lt;li&gt;&lt;a href="about.html"&gt;Over mij&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="practical.html"&gt;Praktisch&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="contact.html"&gt;Contact&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;
</code></pre>
        </div>
        <div class="precontainer">
          <pre class="prism-okaida language-css line-numbers w-550"><code>.todayYear {
  border: 3px dotted black;
  background-color: #aaf;
  color: white;
  font-style: italic;
}
</code></pre>
        </div>
        <div class="precontainer">
          <pre class="prism-okaida line-numbers w-550"><code>const currentYear = new Date().getFullYear();
const years = document.querySelectorAll('#jaar li');
years.forEach(li =&gt; {
  if (li.innerHTML == currentYear) {
    li.classList.add('todayYear')
  }
});
</code></pre>
          <div class="rectangle" style="left: 88px;top: 109px;height: 19px;width: 136px;"></div>
        </div>
      </div>
      <div>
        <img src="img/03_dom2/classlist.png" alt="" class="w-400">
      </div>
    </div>

    <h3>data-* attributen</h3>
    <p>
      Wat in WPF kan met de Tag attribuut &mdash; bijkomende informatie aan controls koppelen &mdash; kan in Javascript met <mark>data-* attributen</mark>.
      De regel is: je mag vrij attributen verzinnen toevoegen aan je HTML, zolang ze maar geprefixed zijn met <code>data-</code>. Gebruik de <code>dataset</code> property om ze te lezen en schrijven. Een voorbeeld:
    </p>
    <div class="codecompare">
      <div>
        <div class="precontainer">
          <pre class="prism-okaida language-html line-numbers w-650" data-demo="demos/03_dom2/dom-navigation/index.html"><code>&lt;ul id="zaden"&gt;
  &lt;li data-afstand="10cm" data-zaaitijd="maart tot juni"&gt;wortelen&lt;/li&gt;
  &lt;li data-afstand="30cm" data-zaaitijd="februari tot maart"&gt;selder&lt;/li&gt;
  &lt;li data-afstand="3cm" data-zaaitijd="maart tot september"&gt;radijs&lt;/li&gt;
&lt;/ul&gt;</code></pre>
          <div class="rectangle" style="left: 105px;top: 51px;height: 57px;width: 99px;"></div>
          <div class="rectangle" style="left: 256px;top: 50px;height: 58px;width: 115px;"></div>
        </div>
        <div class="precontainer">
          <pre class="prism-okaida line-numbers w-650"><code>const zaden = document.querySelectorAll('#zaden li');
console.log(zaden.length);

zaden.forEach(zaad =&gt; {
  console.log(`
plant: ${zaad.innerHTML}
planttijd: ${zaad.dataset.zaaitijd}
afstand: ${zaad.dataset.afstand}`);
});
</code></pre>
          <div class="rectangle" style="left: 180px;top: 147px;height: 40px;width: 155px;"></div>
        </div>
      </div>
      <div>
        <img src="img/03_dom2/datapng.png" alt="" class="w-400">
      </div>
    </div>






  </main>
  <a aria-label="up" id="up" href="#top"><span class="fas fa-chevron-circle-up"></span></a>
  <!-- popup -->
  <div class="hystmodal dialog" id="diaDemo" aria-hidden="true">
    <div class="hystmodal__wrap">
      <div class="hystmodal__window" role="dialog" aria-modal="true">
        <iframe title="demo"></iframe>
      </div>
    </div>
  </div>
  <!-- scripts -->
  <script src="vendor/prism/prism.js"></script>
  <script src="vendor/hystmodal/hystmodal.min.js"></script>
  <script src="https://www.youtube.com/player_api"></script>`
  <script src="js/mode.js"></script>
  <script src="js/scripts.js"></script>
  <script src="js/youtube.js"></script>
</body>

</html>
