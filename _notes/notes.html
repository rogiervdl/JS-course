<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Web scripting &mdash; Frontend &mdash; notes</title>
  <meta name="author" content="Rogier van der Linde - ikdoeict.be">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />
  <style>
    body {
      font-family: Verdana, Arial;
      font-size: 14px;
    }
    .note {
      font-size: 12px;
      color: #444;
    }
    summary {
      cursor: pointer;
      color: #006;
    }
    details {
      padding-left: 1em;
    }
    details.empty summary {
      color: #999;
    }
    details summary {
      font-size: 16px;
    }
    details details {
      padding-left: 2em;
    }
    details details summary {
      font-size: 14px;
    }
    details details details {
      padding-left: 3em;
    }
    details details details summary {
      font-size: 12px;
    }
    dl.table {
      overflow: hidden;
    }
    dl.table dt, dl.table dd {
      float: left;
      margin: 0;
    }
    dl.table dt {
      clear: left;
      width: 200px;
      font-family: Courier;
    }
    dl.table dd {
      font-style: italic;
    }


  </style>
</head>
<body>
  <main>
    <details open>
      <summary>01 Syntax</summary>
      <details>
        <summary>note</summary>
        <section class="note">
          <p>
            Ik vind persoonlijk Javascript de boeiendste taal ter wereld. Niet zozeer vanwege de syntax zelf, hoewel die heel bijzonder is.
          </p>
          <p>
            Ja, Javascript is in mijn ogen de taal waar OO het verste doorgedreven is; functies zijn bijvoorbeeld gewoon objecten die als parameters kunnen meegegeven worden aan een andere functie. Zelfs een class is een object &mdash; je begint met <code>var MyClassName = ...</code>. Je kunt bestaande classes en objecten zelfs na constructie eindeloos uitbreiden met nieuwe properties, die op hun beurt bestaan uit andere objecten, functies of classes, een beetje als Lego.
          </p>
          <p>
            Ook laat de Javascript syntax heel veel variaties en vrijheden toe vanwege de vele shorthand notations en weakly typing; je kunt er enorm compact mee programmeren.
            <br>[afbeelding: tetris geschreven in een tweet]
            <br>[js1k voorbeelden]
          </p>
          <p>
            Maar er zijn nog andere boeiende talen: Actionscript heeft een aantal interessante concepten; er zijn die-hard fans van Python en Ruby, en ook C# heeft geweldige features &mdash; ik denk aan nullable primitives, extension methods, lambda expressions...
          </p>
          <p>
            Het is vooral het ecosysteem dat een taal interessant maakt: in welke omgeving kun je het gebruiken? Welke bibliotheken en tools zijn er te beschikking? Is er een grote en actieve community rond? En Javascript is de <i>enige</i> scriptingtaal die in de frontend van browsers kan gebruikt worden, wat wil zeggen dat het de enige taal is waarmee je snel heel visuele en interactieve ervaringen kunt bouwen die door een breed platform gedragen worden. Het is een geweldig middel om grafische experimenten op te zetten, games te programmeren, web apps te bouwen, UI controls/componenten te bouwen enz... Bovendien zijn er nog andere omgevingen waarin je Javascript kunt gebruiken: serverside, zoals PHP, met NodeJS; vanop de console in Windows of MAC; op systemen die Java kennen met de Rhino Javascript engine (zowat alle apparaten dus); in Photoshop plugins; deskop widgets; Chrome, Safari of Opera plugins...
          </p>
          <p>
            Bovendien is het, althans in frontend toepassingen, quasi onmogelijk je code te beschermen; het is clear text en dus bijna per definitie open source. Zie je een interessante interactie op een website, bekijk de code en leer bij. Welke bibliotheken zijn gebruikt? Hoe is de code opgebouwd? Welke HTML/CSS is gebruikt voor de opbouw van componenten? Daardoor is er een enorme traditie en community van open source met veel uitstekende gratis bibliotheken en tools.
          </p>
          <p>
            Heeft Javascript dan helemaal geen nadelen? Jawel. Ten eerste biedt Javascript veel vrijheid, maar soms ook weinig structuur. De manier om met classes, objecten, modules enz... te werken komt in het begin soms vreemd over. Bovendien is de taal iets 'kaler' dan pakweg PHP, dat veel meer ingbouwde functies heeft voor bijvoorbeeld arrays en string manipulatie.
            <br>Ook is Javascript niet helemaal ongeschonden uit de browseroolog gekomen. De syntax zelf valt nog mee, maar de manier waarop met het HTML document en events gewerkt wordt, verschilt nogal tussen browsers (dat is een onderwerp voor volgende presentatie). Vooral IE is en blijft een lastpak. Ik krijg elk jaar wel van iemand de vraag waarom deze presentatie niet in IE werkt. Om het bot te zeggen: dat is in deze context niet prioritair. Jullie hebben een perfect alternatief &mdash; Chome &mdash; en zolang jullie geen individueel betalende klanten zijn, verlies ik er ook geen geld mee.
            <br>Verder is Javascript &mdash; net zoals CSS en HTML &mdash; afhankelijk van de browser vendors, hoe snel en op welke manier ze nieuwe features implementeren. PHP niet: dat is gewoon een kwestie van de juiste versie op de server installeren. Je zult dus meer dan elders moeten testen en eventueel fixes toepassen.
            <br> Maar bovenal: veel syntaxvrijheid geeft veel verantwoordelijkheden. Er is, nog meer dan in andere talen, ontzettend veel troep te vinden: slecht geschreven, oude, achterhaalde of ronduit foutieve code. Pas daarom als beginnend Javascript programmeur enorm op met online tutorials, bibliotheken en code. Ik zou zelfs aanraden dit semester je uitsluitend op de cursus te richten. Waar nodig zal ik wel zeggen welke bibliotheek je waar en wanneer kan gebruiken.
          </p>
          <p>
            [js1k: winnaar 2015
              -> check blogpost op http://keithclark.co.uk/articles/js1k-2015-defender/ (ook te vinden via 'demo details' link)
              -> klik op 'play defender',
              -> sla pagina op desktop en open opnieuw; werkt nog steeds
              -> die rare tekens zijn gebruikt als bitmaps voor tekeningen, zie uitleg blogpost]
          </p>
          <p>
            Goed, laat ons eraan beginnen.
          </p>
        </section>
      </details>
      <details open>
        <summary>chapters</summary>
        <details class="empty">
          <summary>introducing Javascript</summary>
        </details>
        <details>
          <summary>running Javascript</summary>
          <details class="empty">
            <summary>in the shell</summary>
          </details>
          <details class="empty">
            <summary>in the address bar</summary>
          </details>
          <details>
            <summary>in a bookmarklet</summary>
            <section class="note">
              <p>methode:</p>
              <ul>
                <li>bladwijzers, rechtermuisknop, bladwijzer toevoegen...</li>
                <li>kies een naam, en kopieer het script in de URL</li>
                <li>sla het op; versleep het naar de adresbalk</li>
                <li>open een formulier met checkboxes, en klik op de bladwijzer</li>
              </ul>
            </section>
          </details>
          <details class="empty">
            <summary>in the browser</summary>
          </details>
        </details>
        <details class="empty">
          <summary>input / output</summary>
        </details>
        <details>
          <summary>variables and constructors</summary>
          <details>
            <summary>creating variables</summary>
            <section class="note">
              <p>
                var quoteOfTheDay = 'Now have that tasty morning burger';<br>
                alert(typeof quoteOfTheDay); -> string
              </p>
              <p>
                var quoteOfTheDay = 99;<br>
                alert(typeof quoteOfTheDay); -> number
              </p>
              <p>
                var quoteOfTheDay = function() {}<br>
                alert(typeof quoteOfTheDay); -> function
              </p>
              <p>
                je ziet dat variabelen in javascript loosely typed zijn, maw hun type wordt pas toegewezen op het moment dat het een waarde krijgt
                <br>ze zijn ook weakly typed, m.a.w. hun type kan onderweg veranderen:
              </p>
              <p>
  var quoteOfTheDay = '2';<br>
  alert(typeof quoteOfTheDay);<br>
  quoteOfTheDay *= 3;<br>
  alert(typeof quoteOfTheDay);
              </p>
            </section>
          </details>
          <details>
            <summary>functions as variables</summary>
            <section class="note">
              <p>
                er is echt syntactisch geen enkel verschil tussen een functie en pakweg een string of number, alleen de notatie van een literal is specifiek, net zoals string met quotes is en number zonder quotes
              </p>
              <p>
                functies als parameters: in Java lossen ze dat op met delegates; dat is het enige dat ik nooit begrepen heb, of toch telkens weer vergeet
              </p>
            </section>
          </details>
          <details>
            <summary>objects</summary>
            <section class="note">
              <p>
                je hebt dus geen class nodig om een object te maken; een object is wat in PHP een associatieve array is, behalve dat je ook functies als waarden kunt gebruiken
              </p>
              <p>
                er zijn verschillende notaties voor de properties; wij gebruiken de dotnotatie
                <br>in PHP hadden ze de dot al gebruikt voor string concatenatie, en tegen dat ze het concept OO doorhadden raakten ze in paniek, en dan hebben ze maar voor het pijltje en de doubledoubledot notatie gekozen
              </p>
              <p>
                dotnotatie werkt niet altijd:
                <br><br>forrest['1'] = 'test';
                <br>alert(forrest['1']); // werkt
                <br>alert(forrest.1); // werkt niet
                <br><br>maar '1' als key is toch bad practice
              </p>
            </section>
          </details>
          <details>
            <summary>literals and constructors</summary>
            <section class="note">
              <p>
                ik zie sommige studenten de constructor methode gebruiken; dit biedt geen enkel voordeel behalve als je de waarde wil uitbreiden met extra properties; dat kan niet met een literal, maar wel met een constructor (zie verder); gebruik dus de literal methode tenzij je een heel goed argument hebt
              </p>
            </section>
          </details>
          <details>
            <summary>undefined, NaN, Infinity</summary>
            <section class="note">
              <p>
                undefined: bestaat, maar heeft nog geen waarde
                <br>NaN: had een getal moeten zijn, maar kan niet gevonden worden (let op: NaN heeft type number!)
                <br>Infinity: is een getal, nl. oneindig
                <br>NaN en Infinity geven dus geen fout, het zijn getalwaarden, alleen buiten het normale bereik dat je gewend bent
              </p>
            </section>
          </details>
        </details>
        <details open>
          <summary>types</summary>
          <details class="empty">
            <summary>types</summary>
          </details>
          <details class="empty">
            <summary>typeof, instanceof</summary>
          </details>
          <details class="empty">
            <summary>object base type</summary>
          </details>
          <details class="empty">
            <summary>weak and dynamic typing</summary>
          </details>
          <details open>
            <summary>type conversion</summary>
            <section class="note">
              <p>
                Automatic type conversion may lead to strange results.
              </p>
              <p>
                true/false examples:
              </p>
              <dl class="table">
                <dt>'true' == true</dt>
                <dd>false</dd>
                <dt>'true' == false</dt>
                <dd>false; true/false converts to 1/0, 1/0 to '1'/'0', which is different from 'true'</dd>
                <dt>null == true</dt>
                <dd>false</dd>
                <dt>null == false</dt>
                <dd>false; conversie via string</dd>
                <dt>!null == !false</dt>
                <dd>true; ! converteert naar boolean</dd>
              </dl>
              <p>
                parsing examples:
              </p>
              <dl class="table">
                <dt>parseInt('fuck')</dt>
                <dd>NaN</dd>
                <dt>parseInt('fuck', 16)</dt>
                <dd>15; (16 = hexadecimaal) dit is de 'f' van fuck; rest wordt genegeerd</dd>
                <dt>'3' + 2</dt>
                <dd>32</dd>
                <dt>'3' - 2</dt>
                <dd>1; behalve string + ... is elke operatie getalmatig</dd>
                <dt>+'3' + 2</dt>
                <dd>5; + is shorthand voor parseInt</dd>
              </dl>
              <p>
                array examples:
              </p>
              <dl class="table">
                <dt>[1, 2, 3] == [1, 2, 3]</dt>
                <dd>false; objecten verschillen</dd>
                <dt>[1, 2, 3] &lt;= [1, 2, 3]</dt>
                <dd>true; &lt;= en &gt;= vergelijken wel degelijk arrays</dd>
                <dt>[1, 2, 3] &lt;= [1, 2, 5]</dt>
                <dd>true</dd>
                <dt>[42] == [42]</dt>
                <dd>false</dd>
                <dt>[42] == 42</dt>
                <dd>true; conversie via getal</dd>
                <dt>[] == ![]</dt>
                <dd>true; beide leden converteren naar false</dd>
                <dt>!+[]+[]+![]</dt>
                <dd>'truefalse'; !+[] = !0 = true; [] = ""; ![] = false; true + ' + false = 'truefalse'</dd>
              </dl>
              <p>
                number examples:
              </p>
              <dl class="table">
                <dt>1.0 + 2.0 == 3.0</dt>
                <dd>true</dd>
                <dt>0.1 + 0.2 == 0.3</dt>
                <dd>false; rounding errors</dd>
                <dt>0 == -0</dt>
                <dd>true</dd>
                <dt>1/0 == 1/-0</dt>
                <dd>false; Infinity vs. -Infinity</dd>
                <dt>parseFloat('Infinity')</dt>
                <dd>Infinity</dd>
                <dt>parseInt('Infinity')</dt>
                <dd>NaN; Infinity is een float, geen int</dd>
                <dt>Math.min() &lt; Math.max()</dt>
                <dd>false; Infinity vs. -Infinity: min starts with Infinity and looks for lower values in arguments</dd>
                <dt>9999999999999999</dt>
                <dd>10000000000000000</dd>
                <dt>11111111111111111</dt>
                <dd>11111111111111112</dd>
                <dt>111111111111111111111</dt>
                <dd>111111111111111110000</dd>
              </dl>
            </section>
          </details>
          <details class="empty">
            <summary>identity operator</summary>
          </details>
        </details>
        <details>
          <summary>functions</summary>
          <details class="empty">
            <summary>defining functions</summary>
          </details>
          <details class="empty">
            <summary>functions as arguments</summary>
          </details>
          <details>
            <summary>anonymous functions</summary>
            <section class="note">
              <p>
                raak maar gewoon aan de notatie van een anonieme functie, want Javascript is bij uitstek een frontend taal en hangt dus heel hard samen met events, waaraan functies gekoppeld worden ('als de gebruiker dit doet, doe dan dat'; 'als een AJAX request een succes is doe dit, anders doe dat' enz...)
              </p>
            </section>
          </details>
          <details class="empty">
            <summary>passing by reference</summary>
          </details>
          <details class="empty">
            <summary>passing by value</summary>
          </details>
          <details class="empty">
            <summary>passing functions</summary>
          </details>
          <details class="empty">
            <summary>passing an object instead</summary>
          </details>
          <details class="empty">
            <summary>arguments array</summary>
          </details>
          <details>
            <summary>single object parameter</summary>
            <section class="note">
              <p>nog een patroon om ergens vooraan je geheugen te steken: het gebruik van 1 enkel object als parameter i.p.v. X verschillede parameters</p>
              <ul>
                <li>je hoeft niet alle parameters in te stellen</li>
                <li>je hoeft ze zelfs niet allemaal te kennen</li>
                <li>makkelijk uitbreidbaar</li>
              </ul>
          </details>
          <details>
            <summary>anonymous objects</summary>
            <section class="note">
              <p>
                anonieme objecten zijn prima voor structuren die je niet vaak gebruikt in de loop van je script, zoals containers voor opties
                <br>anonieme objecten zijn duur in termen van werk voor de compiler, omdat op de achtergrond voor elk anoniem ojbect een class wordt aangemaakt; heb je 1000 anonieme ojbecten met dezelfde structuur, dan maak je beter een class aan (zie verder)
              </p>
            </section>
          </details>
        </details>
        <details>
          <summary>objects</summary>
          <details>
            <summary>OO in Javascript</summary>
            <section class="note">
              <p>
                Dit is de interpretatie van een class in Javascript.
                <br>Properties zijn altijd public; voeg dit toe:
                <br>yourCar.year = 1948;
                <br>yourCar.describe();
                <br>Fiat Panda's bestonden toen nog niet, dus dit is duidelijk een fout waar de class niets aan kan doen. Er zijn prachtige patronen om dit op te lossen, waarvan 1, het module patroon, zal besproken worden in de modeloplossing van labo 1, de billboard.
              </p>
            </section>
          </details>
        </details>
        <details class="empty">
          <summary>scope</summary>
        </details>
        <details class="empty">
          <summary>quick syntax recap</summary>
        </details>
        <details class="empty">
          <summary>coding rules</summary>
        </details>
      </details>
    </details>
  </main>
</body>
</html>
